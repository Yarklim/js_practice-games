!function(){let e,t;let n=document.querySelector(".content--wrapper"),r=document.querySelector("#fifteen"),l=Array.from(document.querySelectorAll(".fifteen__button"));if(16!==l.length)throw Error("There should be 16 items in HTML");l[15].style.display="none";let o=function(e){let t=[[],[],[],[]],n=0,r=0;for(let l=0;l<e.length;l++)n>=4&&(r++,n=0),t[r][n]=e[l],n++;return t}(l.map(e=>Number(e.dataset.matrixId)));a(o);let c=!1,i="gameShuffle";function a(e){for(let o=0;o<e.length;o++)for(let c=0;c<e[o].length;c++){var t,n,r;t=l[e[o][c]-1],n=c,r=o,t.style.transform=`translate3D(calc(${100*n}% + 10px), calc(${100*r}% + 10px), 0)`}}document.querySelector("#shuffle").addEventListener("click",()=>{if(c)return;c=!0;let t=0;clearInterval(e),n.classList.add(i),e=setInterval(()=>{(function(e){let t=s(16,e),n=function({blankCoords:e,matrix:t,blockedCoords:n}){let r=[];for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++)!f({x:o,y:l},e)||n&&n.x===o&&n.y===l||r.push({x:o,y:l});return r}({blankCoords:t,matrix:e,blockedCoords:u});d(t,n[Math.floor(Math.random()*n.length)],e),u=t})(o),a(o),(t+=1)>=100&&(n.classList.remove(i),clearInterval(e),c=!1)},70)}),r.addEventListener("click",e=>{if(c)return;let t=e.target.closest("button");if(!t)return;let n=s(Number(t.dataset.matrixId),o),r=s(16,o);f(n,r)&&(d(r,n,o),a(o))}),window.addEventListener("keydown",e=>{if(c||!e.key.includes("Arrow"))return;let t=s(16,o),n={x:t.x,y:t.y},r=e.key.split("Arrow")[1].toLowerCase(),l=o.length;switch(r){case"up":n.y+=1;break;case"down":n.y-=1;break;case"left":n.x+=1;break;case"right":n.x-=1}n.y>=l||n.y<0||n.x>=l||n.x<0||(d(t,n,o),a(o))});let u=null;function s(e,t){for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++)if(t[n][r]===e)return{x:r,y:n};return null}function f(e,t){let n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return(1===n||1===r)&&(e.x===t.x||e.y===t.y)}function d(e,t,n){let l=n[e.y][e.x];n[e.y][e.x]=n[t.y][t.x],n[t.y][t.x]=l,function(e){let t=e.flat();for(let e=0;e<y.length;e++)if(t[e]!==y[e])return!1;return!0}(n)&&setTimeout(()=>{r.classList.add(m),setTimeout(()=>{r.classList.remove(m)},1350)},350)}let y=Array(16).fill(0).map((e,t)=>t+1),m="fifteenWon",x=document.querySelector("#fifteen"),h=document.querySelector(".fifteen__shuffle"),L=document.querySelector("#current-m"),b=document.querySelector("#current-s"),v=document.querySelector("#current-ms"),g=!1,k=0,M=0,T=0,w=null;function p(){x.removeEventListener("click",H),T++,v.innerHTML="0"+T,60===M&&(k++,L.innerHTML="0"+k,M=0),T>99&&(M++,b.innerHTML="0"+M,T=0),T>9&&(v.innerHTML=T),M>9&&(b.innerHTML=M),k>9&&(L.innerHTML=k),T<=9&&(v.textContent="0"+T),w=L.textContent+b.textContent+v.textContent}function H(){g&&(t=setInterval(p,10))}h.addEventListener("click",function(){v.innerHTML="00",b.innerHTML="00",L.innerHTML="00",g=!0,x.addEventListener("click",H)}),new MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&(clearInterval(t),console.log(w),g=!1)})}).observe(x,{attributes:!0,attributeFilter:["class"]})}();
//# sourceMappingURL=index.27689873.js.map
