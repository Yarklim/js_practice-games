!function(){let e,t;let n=document.querySelector(".content--wrapper"),r=document.querySelector("#fifteen"),l=Array.from(document.querySelectorAll(".fifteen__button"));if(16!==l.length)throw Error("There should be 16 items in HTML");l[15].style.display="none";let o=function(e){let t=[[],[],[],[]],n=0,r=0;for(let l=0;l<e.length;l++)n>=4&&(r++,n=0),t[r][n]=e[l],n++;return t}(l.map(e=>Number(e.dataset.matrixId)));a(o);let i=!1,c=!1,u="gameShuffle";function a(e){for(let o=0;o<e.length;o++)for(let i=0;i<e[o].length;i++){var t,n,r;t=l[e[o][i]-1],n=i,r=o,t.style.transform=`translate3D(calc(${100*n}% + 10px), calc(${100*r}% + 10px), 0)`}}document.querySelector("#shuffle").addEventListener("click",()=>{if(i)return;i=!0,c=!0;let t=0;clearInterval(e),n.classList.add(u),e=setInterval(()=>{(function(e){let t=f(16,e),n=function({blankCoords:e,matrix:t,blockedCoords:n}){let r=[];for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++)!d({x:o,y:l},e)||n&&n.x===o&&n.y===l||r.push({x:o,y:l});return r}({blankCoords:t,matrix:e,blockedCoords:s});y(t,n[Math.floor(Math.random()*n.length)],e),s=t})(o),a(o),(t+=1)>=100&&(n.classList.remove(u),clearInterval(e),i=!1)},70)}),r.addEventListener("click",e=>{if(i)return;let t=e.target.closest("button");if(!t)return;let n=f(Number(t.dataset.matrixId),o),r=f(16,o);d(n,r)&&(y(r,n,o),a(o))}),window.addEventListener("keydown",e=>{if(i||!e.key.includes("Arrow"))return;let t=f(16,o),n={x:t.x,y:t.y},r=e.key.split("Arrow")[1].toLowerCase(),l=o.length;switch(r){case"up":n.y+=1;break;case"down":n.y-=1;break;case"left":n.x+=1;break;case"right":n.x-=1}n.y>=l||n.y<0||n.x>=l||n.x<0||(y(t,n,o),a(o))});let s=null;function f(e,t){for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++)if(t[n][r]===e)return{x:r,y:n};return null}function d(e,t){let n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return(1===n||1===r)&&(e.x===t.x||e.y===t.y)}function y(e,t,n){let l=n[e.y][e.x];if(n[e.y][e.x]=n[t.y][t.x],n[t.y][t.x]=l,function(e){let t=e.flat();for(let e=0;e<m.length;e++)if(t[e]!==m[e])return!1;return!0}(n)){if(!c)return;setTimeout(()=>{r.classList.add(x),setTimeout(()=>{r.classList.remove(x)},1350)},350),c=!1}}let m=Array(16).fill(0).map((e,t)=>t+1),x="fifteenWon",h=document.querySelector("#fifteen"),L=document.querySelector(".fifteen__shuffle"),b=document.querySelector("#current-m"),v=document.querySelector("#current-s"),g=document.querySelector("#current-ms"),k=!1,M=0,T=0,w=0,p=null;function H(){h.removeEventListener("click",S),w++,g.innerHTML="0"+w,60===T&&(M++,b.innerHTML="0"+M,T=0),w>99&&(T++,v.innerHTML="0"+T,w=0),w>9&&(g.innerHTML=w),T>9&&(v.innerHTML=T),M>9&&(b.innerHTML=M),w<=9&&(g.textContent="0"+w),p=b.textContent+v.textContent+g.textContent}function S(){k&&(t=setInterval(H,10))}L.addEventListener("click",function(){g.innerHTML="00",v.innerHTML="00",b.innerHTML="00",k=!0,h.addEventListener("click",S)}),new MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&(clearInterval(t),console.log(Number(p)),k=!1)})}).observe(h,{attributes:!0,attributeFilter:["class"]})}();
//# sourceMappingURL=index.a3324bbc.js.map
