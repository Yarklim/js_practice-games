let t,e;const n=document.querySelector(".content--wrapper"),r=document.querySelector("#fifteen"),o=Array.from(document.querySelectorAll(".fifteen__button"));if(16!==o.length)throw Error("There should be 16 items in HTML");o[15].style.display="none";let l=function(t){let e=[[],[],[],[]],n=0,r=0;for(let o=0;o<t.length;o++)n>=4&&(r++,n=0),e[r][n]=t[o],n++;return e}(o.map(t=>Number(t.dataset.matrixId)));i(l);let c=!1,a=!1;const s="gameShuffle";function i(t){for(let l=0;l<t.length;l++)for(let c=0;c<t[l].length;c++){var e,n,r;e=o[t[l][c]-1],n=c,r=l,e.style.transform=`translate3D(calc(${100*n}% + 10px), calc(${100*r}% + 10px), 0)`}}document.querySelector("#shuffle").addEventListener("click",()=>{if(c)return;c=!0,a=!0;let e=0;clearInterval(t),n.classList.add(s),t=setInterval(()=>{(function(t){let e=f(16,t),n=function({blankCoords:t,matrix:e,blockedCoords:n}){let r=[];for(let o=0;o<e.length;o++)for(let l=0;l<e[o].length;l++)!m({x:l,y:o},t)||n&&n.x===l&&n.y===o||r.push({x:l,y:o});return r}({blankCoords:e,matrix:t,blockedCoords:u});d(e,n[Math.floor(Math.random()*n.length)],t),u=e})(l),i(l),(e+=1)>=100&&(n.classList.remove(s),clearInterval(t),c=!1)},70)}),r.addEventListener("click",t=>{if(c)return;let e=t.target.closest("button");if(!e)return;let n=f(Number(e.dataset.matrixId),l),r=f(16,l);m(n,r)&&(d(r,n,l),i(l))}),window.addEventListener("keydown",t=>{if(c||!t.key.includes("Arrow"))return;let e=f(16,l),n={x:e.x,y:e.y},r=t.key.split("Arrow")[1].toLowerCase(),o=l.length;switch(r){case"up":n.y+=1;break;case"down":n.y-=1;break;case"left":n.x+=1;break;case"right":n.x-=1}n.y>=o||n.y<0||n.x>=o||n.x<0||(d(e,n,l),i(l))});let u=null;function f(t,e){for(let n=0;n<e.length;n++)for(let r=0;r<e[n].length;r++)if(e[n][r]===t)return{x:r,y:n};return null}function m(t,e){let n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return(1===n||1===r)&&(t.x===e.x||t.y===e.y)}function d(t,e,n){let o=n[t.y][t.x];if(n[t.y][t.x]=n[e.y][e.x],n[e.y][e.x]=o,function(t){let e=t.flat();for(let t=0;t<x.length;t++)if(e[t]!==x[t])return!1;return!0}(n)){if(!a)return;setTimeout(()=>{r.classList.add(y),setTimeout(()=>{r.classList.remove(y)},1350)},350),a=!1}}const x=Array(16).fill(0).map((t,e)=>e+1),y="fifteenWon",b=document.querySelector("#fifteen"),L=document.querySelector(".fifteen__shuffle"),C=document.querySelector("#current-m"),h=document.querySelector("#current-s"),g=document.querySelector("#current-ms"),S=document.querySelector("#best-m"),v=document.querySelector("#best-s"),M=document.querySelector("#best-ms"),T=document.querySelectorAll(".timer__wrapper");S.innerHTML=localStorage.getItem("min")||"00",v.innerHTML=localStorage.getItem("sec")||"00",M.innerHTML=localStorage.getItem("ms")||"00";let k=!1,H=0,_=0,q=0,I=null,p=0;function w(){b.removeEventListener("click",E),q++,g.innerHTML="0"+q,_>59&&(H++,C.innerHTML="0"+H,_=0,h.innerHTML="0"+_),q>99&&(_++,h.innerHTML="0"+_,q=0),q>9&&(g.innerHTML=q),_>9&&(h.innerHTML=_),H>9&&(C.innerHTML=H),q<=9&&(g.textContent="0"+q)}function E(){k&&(e=setInterval(w,10))}function A(){clearInterval(e),I=Number(C.textContent+h.textContent+g.textContent),p||(p=I,S.textContent=C.textContent,v.textContent=h.textContent,M.textContent=g.textContent,N(S.textContent,v.textContent,M.textContent)),I<=p&&0!==p&&(p=I,S.textContent=C.textContent,v.textContent=h.textContent,M.textContent=g.textContent,N(S.textContent,v.textContent,M.textContent),T[0].classList.add("beat__best-time")),Number(I)>p&&0!==p&&T[0].classList.add("no-beat__best-time")}function N(t,e,n){localStorage.setItem("min",t),localStorage.setItem("sec",e),localStorage.setItem("ms",n)}L.addEventListener("click",function(){A(),H=0,_=0,q=0,g.innerHTML="00",h.innerHTML="00",C.innerHTML="00",k=!0,T[0].classList.remove("beat__best-time"),T[0].classList.remove("no-beat__best-time"),b.addEventListener("click",E)}),new MutationObserver(function(t){t.forEach(function(t){"class"===t.attributeName&&A()})}).observe(b,{attributes:!0,attributeFilter:["class"]});
//# sourceMappingURL=index.9f72b047.js.map
