let e,t;const n=document.querySelector(".content--wrapper"),r=document.querySelector("#fifteen"),l=Array.from(document.querySelectorAll(".fifteen__button"));if(16!==l.length)throw Error("There should be 16 items in HTML");l[15].style.display="none";let o=function(e){let t=[[],[],[],[]],n=0,r=0;for(let l=0;l<e.length;l++)n>=4&&(r++,n=0),t[r][n]=e[l],n++;return t}(l.map(e=>Number(e.dataset.matrixId)));a(o);let c=!1,i=!1;const u="gameShuffle";function a(e){for(let o=0;o<e.length;o++)for(let c=0;c<e[o].length;c++){var t,n,r;t=l[e[o][c]-1],n=c,r=o,t.style.transform=`translate3D(calc(${100*n}% + 10px), calc(${100*r}% + 10px), 0)`}}document.querySelector("#shuffle").addEventListener("click",()=>{if(c)return;c=!0,i=!0;let t=0;clearInterval(e),n.classList.add(u),e=setInterval(()=>{(function(e){let t=f(16,e),n=function({blankCoords:e,matrix:t,blockedCoords:n}){let r=[];for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++)!d({x:o,y:l},e)||n&&n.x===o&&n.y===l||r.push({x:o,y:l});return r}({blankCoords:t,matrix:e,blockedCoords:s});y(t,n[Math.floor(Math.random()*n.length)],e),s=t})(o),a(o),(t+=1)>=100&&(n.classList.remove(u),clearInterval(e),c=!1)},70)}),r.addEventListener("click",e=>{if(c)return;let t=e.target.closest("button");if(!t)return;let n=f(Number(t.dataset.matrixId),o),r=f(16,o);d(n,r)&&(y(r,n,o),a(o))}),window.addEventListener("keydown",e=>{if(c||!e.key.includes("Arrow"))return;let t=f(16,o),n={x:t.x,y:t.y},r=e.key.split("Arrow")[1].toLowerCase(),l=o.length;switch(r){case"up":n.y+=1;break;case"down":n.y-=1;break;case"left":n.x+=1;break;case"right":n.x-=1}n.y>=l||n.y<0||n.x>=l||n.x<0||(y(t,n,o),a(o))});let s=null;function f(e,t){for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++)if(t[n][r]===e)return{x:r,y:n};return null}function d(e,t){let n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return(1===n||1===r)&&(e.x===t.x||e.y===t.y)}function y(e,t,n){let l=n[e.y][e.x];if(n[e.y][e.x]=n[t.y][t.x],n[t.y][t.x]=l,function(e){let t=e.flat();for(let e=0;e<m.length;e++)if(t[e]!==m[e])return!1;return!0}(n)){if(!i)return;setTimeout(()=>{r.classList.add(x),setTimeout(()=>{r.classList.remove(x)},1350)},350),i=!1}}const m=Array(16).fill(0).map((e,t)=>t+1),x="fifteenWon",h=document.querySelector("#fifteen"),b=document.querySelector(".fifteen__shuffle"),L=document.querySelector("#current-m"),v=document.querySelector("#current-s"),k=document.querySelector("#current-ms"),M=document.querySelector("#best-m"),g=document.querySelector("#best-s"),S=document.querySelector("#best-ms");let T=!1,q=0,w=0,p=0;function H(){h.removeEventListener("click",E),p++,k.innerHTML="0"+p,60===w&&(q++,L.innerHTML="0"+q,w=0),p>99&&(w++,v.innerHTML="0"+w,p=0),p>9&&(k.innerHTML=p),w>9&&(v.innerHTML=w),q>9&&(L.innerHTML=q),p<=9&&(k.textContent="0"+p)}function C(){clearInterval(t),T=!1}function E(){T&&(t=setInterval(H,10))}M.textContent,g.textContent,S.textContent,b.addEventListener("click",function(){C(),k.innerHTML="00",v.innerHTML="00",L.innerHTML="00",T=!0,h.addEventListener("click",E)}),new MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&C()})}).observe(h,{attributes:!0,attributeFilter:["class"]});
//# sourceMappingURL=index.1ae2fd8d.js.map
