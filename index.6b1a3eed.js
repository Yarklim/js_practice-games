!function(){let e,t;let n=document.querySelector(".content--wrapper"),r=document.querySelector("#fifteen"),o=Array.from(document.querySelectorAll(".fifteen__button"));if(16!==o.length)throw Error("There should be 16 items in HTML");o[15].style.display="none";let l=function(e){let t=[[],[],[],[]],n=0,r=0;for(let o=0;o<e.length;o++)n>=4&&(r++,n=0),t[r][n]=e[o],n++;return t}(o.map(e=>Number(e.dataset.matrixId)));s(l);let c=!1,a=!1,i="gameShuffle";function s(e){for(let l=0;l<e.length;l++)for(let c=0;c<e[l].length;c++){var t,n,r;t=o[e[l][c]-1],n=c,r=l,t.style.transform=`translate3D(calc(${100*n}% + 10px), calc(${100*r}% + 10px), 0)`}}document.querySelector("#shuffle").addEventListener("click",()=>{if(c)return;c=!0,a=!0;let t=0;clearInterval(e),n.classList.add(i),e=setInterval(()=>{(function(e){let t=f(16,e),n=function({blankCoords:e,matrix:t,blockedCoords:n}){let r=[];for(let o=0;o<t.length;o++)for(let l=0;l<t[o].length;l++)!m({x:l,y:o},e)||n&&n.x===l&&n.y===o||r.push({x:l,y:o});return r}({blankCoords:t,matrix:e,blockedCoords:u});d(t,n[Math.floor(Math.random()*n.length)],e),u=t})(l),s(l),(t+=1)>=100&&(n.classList.remove(i),clearInterval(e),c=!1)},70)}),r.addEventListener("click",e=>{if(c)return;let t=e.target.closest("button");if(!t)return;let n=f(Number(t.dataset.matrixId),l),r=f(16,l);m(n,r)&&(d(r,n,l),s(l))}),window.addEventListener("keydown",e=>{if(c||!e.key.includes("Arrow"))return;let t=f(16,l),n={x:t.x,y:t.y},r=e.key.split("Arrow")[1].toLowerCase(),o=l.length;switch(r){case"up":n.y+=1;break;case"down":n.y-=1;break;case"left":n.x+=1;break;case"right":n.x-=1}n.y>=o||n.y<0||n.x>=o||n.x<0||(d(t,n,l),s(l))});let u=null;function f(e,t){for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++)if(t[n][r]===e)return{x:r,y:n};return null}function m(e,t){let n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return(1===n||1===r)&&(e.x===t.x||e.y===t.y)}function d(e,t,n){let o=n[e.y][e.x];if(n[e.y][e.x]=n[t.y][t.x],n[t.y][t.x]=o,function(e){let t=e.flat();for(let e=0;e<x.length;e++)if(t[e]!==x[e])return!1;return!0}(n)){if(!a)return;setTimeout(()=>{r.classList.add(y),setTimeout(()=>{r.classList.remove(y)},1350)},350),a=!1}}let x=Array(16).fill(0).map((e,t)=>t+1),y="fifteenWon",b=document.querySelector("#fifteen"),L=document.querySelector(".fifteen__shuffle"),C=document.querySelector("#current-m"),h=document.querySelector("#current-s"),g=document.querySelector("#current-ms"),S=document.querySelector("#best-m"),v=document.querySelector("#best-s"),M=document.querySelector("#best-ms"),T=document.querySelectorAll(".timer__wrapper");S.innerHTML=localStorage.getItem("min")||"00",v.innerHTML=localStorage.getItem("sec")||"00",M.innerHTML=localStorage.getItem("ms")||"00";let k=!1,H=0,_=0,q=0,I=null,p=0;function w(){b.removeEventListener("click",E),q++,g.innerHTML="0"+q,_>59&&(H++,C.innerHTML="0"+H,_=0,h.innerHTML="0"+_),q>99&&(_++,h.innerHTML="0"+_,q=0),q>9&&(g.innerHTML=q),_>9&&(h.innerHTML=_),H>9&&(C.innerHTML=H),q<=9&&(g.textContent="0"+q)}function E(){k&&(t=setInterval(w,10))}function A(){clearInterval(t),I=Number(C.textContent+h.textContent+g.textContent),p||(p=I,S.textContent=C.textContent,v.textContent=h.textContent,M.textContent=g.textContent,N(S.textContent,v.textContent,M.textContent)),I<=p&&0!==p&&(p=I,S.textContent=C.textContent,v.textContent=h.textContent,M.textContent=g.textContent,N(S.textContent,v.textContent,M.textContent),T[0].classList.add("beat__best-time")),Number(I)>p&&0!==p&&T[0].classList.add("no-beat__best-time")}function N(e,t,n){localStorage.setItem("min",e),localStorage.setItem("sec",t),localStorage.setItem("ms",n)}L.addEventListener("click",function(){A(),H=0,_=0,q=0,g.innerHTML="00",h.innerHTML="00",C.innerHTML="00",k=!0,T[0].classList.remove("beat__best-time"),T[0].classList.remove("no-beat__best-time"),b.addEventListener("click",E)}),new MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&A()})}).observe(b,{attributes:!0,attributeFilter:["class"]})}();
//# sourceMappingURL=index.6b1a3eed.js.map
